<h1>Simon-Ehrlich Wager</h1>

<figure>
  <BasketValue prices="{{wagerData}}" />
</figure>

<script>
  import {scaleOrdinal, schemeCategory10} from "d3-scale";
  
  import {simonEhrlichWager} from "./model.js";

  import BasketValue from "./components/BasketValue.html";
  import PriceHx from "./components/PriceHx.html";
  import WagerPeriod from "./components/WagerPeriod.html";
  
  export default {
    components: {
      BasketValue,
      PriceHx,
      WagerPeriod
    },
    
    computed: {
      wagerData: (prices, startDate, endDate, wager) => {
        return simonEhrlichWager(prices, startDate, endDate, wager);
      },
      
      color: (prices) => (scaleOrdinal(schemeCategory10)
        .domain(new Set(prices.map(d => d.type))))
    }
  };
</script>